# 2.10 Solr scheme

## General

The Solr schema used by the Goobi viewer Indexer and Goobi viewer Core is located in the Git repository of the Goobi viewer Indexer:

* [Link to schema.xml from the Goobi viewers](https://github.com/intranda/goobi-viewer-indexer/blob/master/goobi-viewer-indexer/src/main/resources/other/schema.xml)

## Field types

There are different types of fields in the schema itself. These allow different types of configuration or use.

| Field type               | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Use and Configuration                                                                                                                                                                                                                                                                                                                                                    |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| static (fix)             | DOCSTRCT, NUMPAGES                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | These fields cannot be configured. They are written automatically by the Goobi viewer Indexer.                                                                                                                                                                                                                                                                           |
| static (configurable)    | PI, CURRENTNO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | These fields have a static name. However, the content can be configured via XPATH using the configuration file of the Goobi viewer indexer.                                                                                                                                                                                                                              |
| MD\_                     | MD\_TITLE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | All fields beginning with MD\_ can be freely configured in the Goobi viewer Indexer configuration file. All types of values can be saved. Depending on the field configuration, sorting fields, fields for faceting, Untokenized fields, etc. are also written.                                                                                                          |
| MD2\_                    | Some fields in the Solr search index are statically referenced in the Goobi viewer core to provide certain functions. These are listed in the following matrix: Solr field name stored information COinS HighWire Press DublinCore RIS MD\_TITLE Titel des Werkes rft.title citation\_title DC.title TI MD\_ALTERNATETITLE Alternativtitel -/- -/- -/- J2 MD\_CREATOR Name des Autors rft.au citation\_author DC.creator AU MD\_EDITOR Name des Editors -/- -/- -/- ED MD\_CORPORATION Körperschaft rft.aucorp -/- -/- -/- MD\_ISBN ISBN-Nummer rft.isbn citation\_isbn -/- SN MD\_ISSN ISSN-Nummer rft.issn citation\_issn -/- SN MD\_YEARPUBLISH Erscheinungs-jahr rft.date citation\_publication \_date DC.date PY MD\_PUBLISHER Verlag rft.pub -/- DC.publisher PB MD\_PLACEPUBLISH Erscheinungsort rft.place -/- -/- PP MD\_EDITION Edition rtf.edition -/- -/- ET MD\_SERIES Serie rft.series -/- -/- -/- MD\_SUBJECT Schlagwort rft.subject -/- -/- -/- MD\_LANGUAGE Sprache rft.language citation\_language DC.language LA CURRENTNO Bandnummer -/- citation\_volume -/- VL MD\_INFORMATION Abstract zum Werk -/- description DCTERMS.abstract AB MD\_NOTE Generische Notiz -/- -/- -/- N1 MD\_GEOKEYWORD Geographisches Schlagwort -/- -/- -/- KW MD\_PERSONKEYWORD Personen-schlagwort -/- -/- -/- KW MD\_WORKKEYWORD Werkschlagwort -/- -/- -/- KW URN URN des Werkes -/- -/- DC.identifier -/- ACCESSCONDITION Zugriffslizenz -/- -/- DC.rights -/- NUMPAGES Anzahl der Seiten -/- -/- -/- SP NUMVOLUMES Anzahl der Bände in einem Anchor -/- -/- -/- NV PI\_TOPSTRUCT Identifier des Hauptwerkes -/- -/- -/- CN COinS are output on record pages and search hit pages. HighWire Press and DublinCore metatags are output on record pages.MD2\_DESCRIPTION | Works the same as MD\_. The purpose of this alternative pattern is to exclude certain fields from a blanket delivery if required (for example, if all MD\_\* fields are delivered via an interface).                                                                                                                                                                     |
| MDNUM\_                  | MDNUM\_PUBLICRELEASEYEAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Works like MD\_, but the data type is not a string, but a long to ensure numerical sorting.                                                                                                                                                                                                                                                                              |
| BOOL\_                   | BOOL\_DIRECTION\_RTL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | All fields beginning with BOOL\_ can be freely configured in the Goobi viewer Indexer configuration file. Only Booleans (true\|false) can be saved. These can be directly adopted if they are in the source document. Alternatively, a boolean can be ensured in the XPATH expression via boolean(string(...)).                                                          |
| SORT\_                   | SORT\_TITLE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Fields with SORT\_ can be configured directly in the configuration file. This is useful, for example, if the sort title is already explicitly displayed in the metadata. Otherwise, the addSortField switch can be set to write a sort field for a metadata. Sort fields may only contain one value. The fields are then available for sorting search hits, for example. |
| FACET\_                  | FACET\_PLACEPUBLISH                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Special form of metadata fields used for more efficient faceting. Fields CENTURY, YEAR, DC, DOCSTRUCT, DOCSTRUCT\_\*, MD\_ and MD\_\* are automatically created as a FACET\_\* copy. The original field name is configured for faceting, and the FACET\_\* variant is automatically used.                                                                                |
| \_UNTOKENIZED            | MD\_TITLE\_UNTOKENIZED                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Fields with the suffix \_UNTOKENIZED must not be configured directly in the configuration file. The fields are required, for example, in the Browse function. Whether a \_UNTOKENIZED field is written is controlled by the switch addUntokenizedVersion.                                                                                                                |
| \_LANG\_XX               | MD\_TITLE\_LANG\_DE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Fields with LANG\_XX can be freely defined as suffixes to MD\_ fields. XX must be replaced by a valid language abbreviation, for example DE, EN, FR or ES. If there are values in fields with \_LANG\_XX suffix in the Solr Index, the Goobi viewer core evaluates them and supports not only multilingualism in the interface, but also for the metadata values.        |
| NORM\_                   | NORM\_ALTNAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Searchable medial fields imported from authority records.                                                                                                                                                                                                                                                                                                                |
| GROUPID\_ / GROUPORDER\_ | GROUPID\_SERIES, GROUPORDER\_SERIES                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Fields that describe group membership (e.g. to a band series). GROUPID\_ contains the identifier of the group, GROUPORDER\_ the sort sequence of the relevant record in this group. The value after the underscore must be                                                                                                                                               |
| DATE\_                   | DATE\_PUBLICRELEASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Fields with the Solr data type TrieDateField store time stamp (YYYY-MM-DDThh:mm:ssZ). For future application scenarios.                                                                                                                                                                                                                                                  |

## special fields

Some fields in the Solr search index are statically referenced in the Goobi viewer core to provide certain functions. These are listed in the following matrix:

| Solr field name     | stored information               | COinS        | HighWire Press                       | DublinCore       | RIS |
| ------------------- | -------------------------------- | ------------ | ------------------------------------ | ---------------- | --- |
| `MD_TITLE`          | Titel des Werkes                 | rft.title    | citation\_title                      | DC.title         | TI  |
| `MD_ALTERNATETITLE` | Alternativtitel                  | -/-          | -/-                                  | -/-              | J2  |
| `MD_CREATOR`        | Name des Autors                  | rft.au       | citation\_author                     | DC.creator       | AU  |
| `MD_EDITOR`         | Name des Editors                 | -/-          | -/-                                  | -/-              | ED  |
| `MD_CORPORATION`    | Körperschaft                     | rft.aucorp   | -/-                                  | -/-              | -/- |
| `MD_ISBN`           | ISBN-Nummer                      | rft.isbn     | citation\_isbn                       | -/-              | SN  |
| `MD_ISSN`           | ISSN-Nummer                      | rft.issn     | citation\_issn                       | -/-              | SN  |
| `MD_YEARPUBLISH`    | Erscheinungs-jahr                | rft.date     | <p>citation_publication<br>_date</p> | DC.date          | PY  |
| `MD_PUBLISHER`      | Verlag                           | rft.pub      | -/-                                  | DC.publisher     | PB  |
| `MD_PLACEPUBLISH`   | Erscheinungsort                  | rft.place    | -/-                                  | -/-              | PP  |
| `MD_EDITION`        | Edition                          | rtf.edition  | -/-                                  | -/-              | ET  |
| `MD_SERIES`         | Serie                            | rft.series   | -/-                                  | -/-              | -/- |
| `MD_SUBJECT`        | Schlagwort                       | rft.subject  | -/-                                  | -/-              | -/- |
| `MD_LANGUAGE`       | Sprache                          | rft.language | citation\_language                   | DC.language      | LA  |
| `CURRENTNO`         | Bandnummer                       | -/-          | citation\_volume                     | -/-              | VL  |
| `MD_INFORMATION`    | Abstract zum Werk                | -/-          | description                          | DCTERMS.abstract | AB  |
| `MD_NOTE`           | Generische Notiz                 | -/-          | -/-                                  | -/-              | N1  |
| `MD_GEOKEYWORD`     | Geographisches Schlagwort        | -/-          | -/-                                  | -/-              | KW  |
| `MD_PERSONKEYWORD`  | Personen-schlagwort              | -/-          | -/-                                  | -/-              | KW  |
| `MD_WORKKEYWORD`    | Werkschlagwort                   | -/-          | -/-                                  | -/-              | KW  |
| `URN`               | URN des Werkes                   | -/-          | -/-                                  | DC.identifier    | -/- |
| `ACCESSCONDITION`   | Zugriffslizenz                   | -/-          | -/-                                  | DC.rights        | -/- |
| `NUMPAGES`          | Anzahl der Seiten                | -/-          | -/-                                  | -/-              | SP  |
| `NUMVOLUMES`        | Anzahl der Bände in einem Anchor | -/-          | -/-                                  | -/-              | NV  |
| `PI_TOPSTRUCT`      | Identifier des Hauptwerkes       | -/-          | -/-                                  | -/-              | CN  |

**COinS** are output on record pages and search hit pages. **HighWire Press** and **DublinCore** metatags are output on record pages.
