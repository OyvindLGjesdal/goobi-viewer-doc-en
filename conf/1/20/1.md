# 1.20.1 Main table of contents

The table of contents is configured in the `<toc>` section:

{% tabs %}
{% tab title="config_viewer.xml" %}
```markup
<toc>
    <multiVolumeThumbnails enabled="true">
        <width>50</width>
        <height>60</height>
    </multiVolumeThumbnails>

    <volumeSortFields>
        <template name="_DEFAULT">
            <field order="asc">CURRENTNOSORT</field>
        </template>
        <template name="Periodical" groupBy=“YEAR“>
            <field order="desc">CURRENTNOSORT</field>
        </template>
    </volumeSortFields>

    <labelConfig>
        <template name="_DEFAULT">
            <metadata value="{DOCSTRCT}{MD_TITLE}">
                <param type="field" key="DOCSTRCT" suffix=":_SPACE_" />
                <param type="field" key="MD_TITLE" altKey="LABEL" />
            </metadata>
        </template>
        <template name="_GROUPS">
            <metadata label="" value="{LABEL}{MD_SERIESDISPLAYORDER}">
                <param type="translatedfield" key="LABEL" />
                <param type="field" key="MD_SERIESDISPLAYORDER" prefix="_SPACE_(" suffix=")" />
            </metadata>
        </template>
    </labelConfig>

    <titleBarLabel>
        <template name="_DEFAULT">
            <displayAnchorTitle>false</displayAnchorTitle>
	   		</template>
        <template name="volume">
            <displayAnchorTitle prefix="" suffix="_SPACE_">true</displayAnchorTitle>
	   		</template>
	   </titleBarLabel>

    <tocAnchorGroupElementsPerPage>10</tocAnchorGroupElementsPerPage>

    <recordGroupIdentifierFields>
        <field>GROUPID_SERIES</field>
        <field>GROUPID_CONVOLUTE</field>
    </recordGroupIdentifierFields>

    <ancestorIdentifierFields listSiblingRecords="true">
        <field>PI_PARENT</field>
    </ancestorIdentifierFields>

    <useTreeView showDocStructs="_ALL">false</useTreeView>
    
    <tocIndentation>20<tocIndentation>
</toc>
```
{% endtab %}
{% endtabs %}

| **Setting**                             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| --------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **multiVolumeThumbnails/@enabled**      | Set to `true` to display thumbnails of child records in the content view for Anchor elements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **multiVolumeThumbnails/width\|height** | Size of the thumbnails in the content view for anchor elements (multi-volume records and periodicals)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **volumeSortFields**                    | Sorting of volumes in the table of contents of a multi-volume record. Here you can define different configurations for certain anchor structure types using templates (analogous to the metadata configuration). If no special configuration is available, the template "`_DEFAULT`" is used. The optional attribute "`groupBy`" groups the volumes into individual blocks according to a Solr metadata field (e.g. volumes of a periodical). The field configured here should preferably not be multivalued. If the groups are also to be sorted, the configured grouping field must also be configured as a sort field for this template (i.e. as a sub-element `<field>` within the template). The defined `<field>` elements are added to the Solr query in the specified order, i.e. they are sorted primarily by the field in the first `<field>` element, equivalent hits among each other by the second, etc. The Solr query is sorted according to the field in the first  element. The optional order attribute can be used to sort in descending order (`desc`). The default value is `asc`.                                                                                                                                                                                                                                                          |
| **labelConfig**                         | <p>Configuration of labels in the table of contents. Here, templates (analogous to the metadata configuration) can be used to define different configurations for certain structure types. If no special configuration is available, the <code>_DEFAULT</code> template is used. The special template <code>_GROUPS</code> is used to configure the root element of an abstract group (such as a tape series).</p><p><br>The <code>metadata/@value</code> attribute defines a master value that can contain placeholders that are replaced by the values from the <code>param</code> elements. Unlike metadata configurations, the placeholders here are not provided with a count, but must be named like the corresponding values in <code>param/@key</code>. In <code>param/@key</code>, both index fields and message keys can be used directly (in the latter case, <code>type="translatedfield"</code> must always be configured).<br> <br>Optionally the attribute <code>param/@altKey</code> can be defined.It is used as a fallback for missing values from <code>param/@key</code> and otherwise functions identically.<br><br>The optional attributes <code>prefix</code> and <code>suffix</code> can also be handled here by automatic translation. For this, corresponding message keys must be defined and used as values of these attributes.</p> |
| **titleBarLabel**                       | Configuration for displaying the title of an open work. Here, different configurations for certain structure types can be defined via templates (analogous to the metadata configuration). If no special configuration is available, the template `"_DEFAULT" `is used. Basically, the title of a work is the title of the corresponding table of contents entry. If `displayAnchorTitle` is set to `true` in a template, this title is preceded by the title of the parent work if available. With the attributes on `displayAnchorTitle` `prefix` and `suffix`, a static text can be placed before or after the title of the parent work. In the above example configuration, only journal issues are enriched with the title of the parent journal, separated only by a space.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **tocAnchorGroupElementsPerPage**       | In the case of complete records and groups with many volumes, the structure of the volume list can take a very long time. Here it is possible to use a pagination of the volume list and to limit the number of displayed volumes per page to the number configured here. If the value is 0 or less, pagination is switched off.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **recordGroupIdentifierFields**         | A list of metadata fields used to logically group records. These usually start with `GROUPID_` and are used to list records that have a common field value as a group (even if they do not have a common anchor document). Examples of applications are tape series or convolutes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **ancestorIdentifierFields**            | This list of identifier fields is used to create table of contents hierarchies from records that either have a fixed common parent structure (Anchor) or are related to each other in a loose parent-child relationship (Related Item). The child documents each have the identifier of the parent document in the corresponding metadata field. Note: This mechanism is also used to list volumes of a complete record (anchor). The entry `<field>PI_PARENT</field>` required for this can be configured, but is implicitly added to this list if it does not exist. is added. The attribute `listSiblingRecords` (if set to `true`) ensures that other records on the same level (e.g. other volumes of the same complete records) are also listed if a volume is currently open.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **useTreeView**                         | If set to `true`, the table of contents is displayed as an expandable and collapsible tree. For the table of contents page you can additionally configure whether the tree structure should be activated for all or only for certain document types. This is done with the attribute `showDocStructs`, with semicolon-separated document types (e.g. `showDocstructs="Monograph;Manuscript;PeriodicalVolume"`) or with an entry for all types (`showDocstructs="_ALL"`).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **tocIndentation**                      | Number of pixels used to indent child elements as padding. Default value is `20`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
